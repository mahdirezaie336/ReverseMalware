from socket import socket
import json


def start_client(host, port):
    # Create socket
    client = socket()
    client.connect((host, port))

    # Send data to server
    try:
        while True:
            data = input("Enter data to send to server: ")
            client.send(data.encode())
            if data == "exit":
                break
            response = client.recv(1024).decode()
            print(f"Server response: {response}")
    except KeyboardInterrupt:
        print("Client shutting down...")
    finally:
        client.close()


if __name__ == '__main__':
    # Read the config file
    with open('config.json', 'r') as f:
        config = json.load(f)
    # Start the client
    start_client(config['host'], config['port'])

